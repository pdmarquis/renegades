<?phprequire_once(dirname(__FILE__) . '/../../../../../wp-load.php');function download_colors(){    if (!current_user_can('edit_theme_options')) {        echo '<h1>You do not have permission to access this page</h1>';        return FALSE;    }    if (isset($_POST['download'])) {        $scheme_name = sanitize_text_field($_POST['scheme_name']);        global $swift_design_options_init;        global $swift_design_options;        $start = array_keys($swift_design_options_init, 'color_options_start');        $end = array_keys($swift_design_options_init, 'color_options_end');        $colors = array_slice($swift_design_options_init, $start[0] + 1, $end[0] - $start[0] - 1);        //print_r($colors);        //  header("Cache-Control: public");        // header("Content-Description: File Transfer");        header('Content-Type: text/plain');        header("Content-Disposition: attachment; filename=colors.php");        header("Content-Type: application/octet-stream; ");        header("Content-Transfer-Encoding: binary");        global $current_user;        $author = get_currentuserinfo();        $output = '<?php';        $output .= "\n/*\n";        $output .= "Scheme Name: " . $scheme_name . " \n";        $output .= "Scheme URI: http://SwiftThemes.Com \n";        $output .= "Description: " . __('Describe your color scheme here, you could say how you picked the colors', 'swift') . "\n";        $output .= "Author: {$current_user->user_nicename}\n";        $output .= "Author URI: {$current_user->user_url}\n";        $output .= "Version: 0.0.0\n";        $output .= "Tags:\n\n";        $output .= "License:\n";        $output .= "License URI:\n\n";        $output .= __('Add general comments here', 'swift') . "\n";        $output .= "*/\n\n\n";        $output .= 'GLOBAL $swift_colors;' . "\n";        $output .= '$swift_colors = array(';        foreach ($colors as $color) {            if (isset($color['id']))                $output .= "\t'" . $color['id'] . "' =>'" . $swift_design_options[$color['id']] . "',\n";        }        $output .= "\t'color_scheme_css' =>'" . $swift_design_options['color_scheme_css'] . "',\n";        $output = substr($output, 0, -2); //get rid of the , from the last array element        $output .= ");\n";        $output .= "?>";        echo $output;        return true;    }}download_colors();